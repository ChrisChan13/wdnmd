(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"0a3R":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return d}));var n=r("q1tI"),s=r.n(n),o=r("yLiY"),i=r.n(o),a=r("xds5"),l=r("cBaE"),c=r("6KXL"),u=r.n(c),f=r("C9V0"),p=(r("4wOh"),r("sR2V"),"D:\\WorkSpace\\Blog\\blog-frontend\\pages\\post\\[id].tsx"),h=s.a.createElement;const{env:m}=i()().publicRuntimeConfig;class d extends s.a.Component{static async getInitialProps(e){if("dev"!==m)return window.__NEXT_DATA__.props.pageProps;const{id:t}=e.query;return{article:await Object(a.a)(t)}}render(){const{article:e}=this.props;return h("div",{className:u.a.container,__self:this,__source:{fileName:p,lineNumber:31,columnNumber:7}},h("div",{className:u.a.article,__self:this,__source:{fileName:p,lineNumber:32,columnNumber:9}},h("div",{className:u.a["article-head"],__self:this,__source:{fileName:p,lineNumber:33,columnNumber:11}},h("span",{__self:this,__source:{fileName:p,lineNumber:34,columnNumber:13}},Object(l.a)(e.postedAt)),h("span",{__self:this,__source:{fileName:p,lineNumber:35,columnNumber:13}},"\xa0\xb7\xa0"),e.labels.map(e=>h(f.a,{key:e._id,href:`/category/${e.parent?`${e.parent.alias}/`:""}${e.alias}`,label:e.label,className:u.a["article-label"],__self:this,__source:{fileName:p,lineNumber:38,columnNumber:17}}))),e.cover&&h("img",{src:e.cover,alt:e.title,className:u.a["article-cover"],__self:this,__source:{fileName:p,lineNumber:49,columnNumber:15}}),h("h1",{className:u.a["article-title"],__self:this,__source:{fileName:p,lineNumber:52,columnNumber:11}},e.title),h("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:e.richtext},__self:this,__source:{fileName:p,lineNumber:53,columnNumber:11}})))}}},C9V0:function(e,t,r){"use strict";var n=r("q1tI"),s=r.n(n),o=r("yLiY"),i=r.n(o),a=r("YFqc"),l=r.n(a),c="D:\\WorkSpace\\Blog\\blog-frontend\\components\\Link\\index.tsx",u=s.a.createElement;const{env:f}=i()().publicRuntimeConfig;t.a=e=>{const{href:t,alias:r,label:n,className:s="",children:o}=e;if("dev"===f)return u(l.a,{href:t,__self:void 0,__source:{fileName:c,lineNumber:22,columnNumber:7}},o||u("span",{className:s,__self:void 0,__source:{fileName:c,lineNumber:24,columnNumber:23}},n));const i=`/wdnmd${r||t.toString()}`;return u("a",{href:i,style:{textDecoration:"none"},className:s,__self:void 0,__source:{fileName:c,lineNumber:32,columnNumber:5}},o||n)}},YFqc:function(e,t,r){e.exports=r("cTJO")},cBaE:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}));const n=(e,t,r)=>{const n={};if(t){const s=e.find(e=>!e.parent&&e.alias===t);let o;r&&(o=e.find(e=>e.parent===s._id&&e.alias===r)),n.parent=s?s._id:"",n.child=o?o._id:""}return n},s=e=>{const t=new Date(e),r=(Date.now()-t.getTime())/1e3;return r<30?"\u521a\u521a":r<3600?`${Math.ceil(r/60)}\u5206\u949f\u524d`:r<86400?`${Math.ceil(r/3600)}\u5c0f\u65f6\u524d`:r<=604800?`${Math.floor(r/86400)}\u5929\u524d`:`${t.getMonth()+1}\u6708${t.getDate()}\u65e5${t.getHours()}\u65f6${t.getMinutes()}\u5206`}},cTJO:function(e,t,r){"use strict";var n=r("TqRt"),s=r("284h");t.__esModule=!0,t.default=void 0;var o=s(r("q1tI")),i=r("QmWs"),a=r("g/15"),l=n(r("nOHt")),c=r("elyg");function u(e){return e&&"object"===typeof e?(0,a.formatWithValidation)(e):e}let f;const p=new Map,h=window.IntersectionObserver,m={};function d(){return f||(h?f=new h(e=>{e.forEach(e=>{if(!p.has(e.target))return;const t=p.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(f.unobserve(e.target),p.delete(e.target),t())})},{rootMargin:"200px"}):void 0)}const _=(e,t)=>{const r=d();return r?(r.observe(e),p.set(e,t),()=>{try{r.unobserve(e)}catch(t){console.error(t)}p.delete(e)}):()=>{}};class N extends o.Component{constructor(e){super(e),this.p=void 0,this.cleanUpListeners=()=>{},this.formatUrls=function(e){let t=null,r=null,n=null;return(s,o)=>{if(n&&s===t&&o===r)return n;const i=e(s,o);return t=s,r=o,n=i,i}}((e,t)=>({href:(0,c.addBasePath)(u(e)),as:t?(0,c.addBasePath)(u(t)):t})),this.linkClicked=e=>{const{nodeName:t,target:r}=e.currentTarget;if("A"===t&&(r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which))return;let{href:n,as:s}=this.formatUrls(this.props.href,this.props.as);if(!function(e){const t=(0,i.parse)(e,!1,!0),r=(0,i.parse)((0,a.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===r.protocol&&t.host===r.host}(n))return;const{pathname:o}=window.location;n=(0,i.resolve)(o,n),s=s?(0,i.resolve)(o,s):n,e.preventDefault();let{scroll:c}=this.props;null==c&&(c=s.indexOf("#")<0),l.default[this.props.replace?"replace":"push"](n,s,{shallow:this.props.shallow}).then(e=>{e&&c&&(window.scrollTo(0,0),document.body.focus())})},this.p=!1!==e.prefetch}componentWillUnmount(){this.cleanUpListeners()}getPaths(){const{pathname:e}=window.location,{href:t,as:r}=this.formatUrls(this.props.href,this.props.as),n=(0,i.resolve)(e,t);return[n,r?(0,i.resolve)(e,r):n]}handleRef(e){if(this.p&&h&&e&&e.tagName){this.cleanUpListeners(),m[this.getPaths().join("%")]||(this.cleanUpListeners=_(e,()=>{this.prefetch()}))}}prefetch(e){if(!this.p)return;const t=this.getPaths();l.default.prefetch(t[0],t[1],e).catch(e=>{0}),m[t.join("%")]=!0}render(){let{children:e}=this.props;const{href:t,as:n}=this.formatUrls(this.props.href,this.props.as);"string"===typeof e&&(e=o.default.createElement("a",null,e));const s=o.Children.only(e),i={ref:e=>{this.handleRef(e),s&&"object"===typeof s&&s.ref&&("function"===typeof s.ref?s.ref(e):"object"===typeof s.ref&&(s.ref.current=e))},onMouseEnter:e=>{s.props&&"function"===typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),this.prefetch({priority:!0})},onClick:e=>{s.props&&"function"===typeof s.props.onClick&&s.props.onClick(e),e.defaultPrevented||this.linkClicked(e)}};!this.props.passHref&&("a"!==s.type||"href"in s.props)||(i.href=n||t);{const e=r("P5f7").rewriteUrlForNextExport;i.href&&"undefined"!==typeof __NEXT_DATA__&&__NEXT_DATA__.nextExport&&(i.href=e(i.href))}return o.default.cloneElement(s,i)}}var b=N;t.default=b},vcXL:function(e,t,r){"use strict";var n=self.fetch.bind(self);e.exports=n,e.exports.default=e.exports},wcuJ:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[id]",function(){return r("0a3R")}])},xds5:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u}));var n=r("vcXL"),s=r.n(n);var o=async e=>{const t=await s()(`http://localhost:1213/api${e}`);if(200!==t.status)return Promise.reject(new Error("\u8bf7\u6c42\u5931\u8d25"));const r=await t.json();return 200!==r.code?Promise.reject(new Error(r.message||"\u8bf7\u6c42\u5931\u8d25")):Promise.resolve(r.data)};const i=()=>o("/labels"),a=()=>o("/profile"),l=()=>o("/heatmap"),c=e=>o(`/articles${e?`?label=${e}`:""}`),u=e=>o(`/articles/${e}`)}},[["wcuJ",0,1,2,3]]]);